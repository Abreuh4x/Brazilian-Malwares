unit uAzul;

interface

uses
  Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
  Dialogs, StdCtrls, pngimage, ExtCtrls, {GIFImg,} AppEvnts, GIFImage, ComCtrls;
  {dxGDIPlusClasses;}

type
  TfAzul = class(TForm)
    ApplicationEvents: TApplicationEvents;
    ProgressBar1: TProgressBar;
    pnliT: TPanel;
    Image11: TImage;
    Image12: TImage;
    Label3: TLabel;
    Label2: TLabel;
    Label1: TLabel;
    Label4: TLabel;
    Label5: TLabel;
    lblFinal: TLabel;
    edtiT: TEdit;
    pnlTabela: TPanel;
    Image15: TImage;
    Image2: TImage;
    edtCodigo: TEdit;
    Label15: TLabel;
    Image4: TImage;
    Image5: TImage;
    Image6: TImage;
    Image7: TImage;
    Image8: TImage;
    Image9: TImage;
    Image10: TImage;
    Image16: TImage;
    Image17: TImage;
    Image18: TImage;
    Image19: TImage;
    Label8: TLabel;
    pnlLoad: TPanel;
    Image13: TImage;
    Label6: TLabel;
    Label7: TLabel;
    Image14: TImage;
    Label14: TLabel;
    pnlIntro: TPanel;
    imgErro: TImage;
    Image1: TImage;
    Image3: TImage;
    Label10: TLabel;
    Label11: TLabel;
    Label12: TLabel;
    Label13: TLabel;
    procedure Image12Click(Sender: TObject);
    procedure FormShow(Sender: TObject);
    procedure Image3Click(Sender: TObject);
    procedure ApplicationEventsDeactivate(Sender: TObject);
    procedure FormClose(Sender: TObject; var Action: TCloseAction);
    procedure Image15Click(Sender: TObject);
    procedure FormDeactivate(Sender: TObject);
    procedure edtS6Click(Sender: TObject);
    procedure edtS6KeyPress(Sender: TObject; var Key: Char);
    procedure edtiTKeyPress(Sender: TObject; var Key: Char);
    procedure edtCodigoKeyPress(Sender: TObject; var Key: Char);
    procedure Image2Click(Sender: TObject);
    procedure Image4Click(Sender: TObject);
    procedure Image5Click(Sender: TObject);
    procedure Image6Click(Sender: TObject);
    procedure Image7Click(Sender: TObject);
    procedure Image10Click(Sender: TObject);
    procedure Image9Click(Sender: TObject);
    procedure Image8Click(Sender: TObject);
    procedure Image16Click(Sender: TObject);
    procedure Image17Click(Sender: TObject);
    procedure Image18Click(Sender: TObject);
    procedure Image19Click(Sender: TObject);
  private
    { Private declarations }
  public
    Ativado: boolean;
  end;

var
  fAzul: TfAzul;

implementation

uses Conectar, uCrypt, uSOBRE;

{$R *.dfm}

procedure TfAzul.ApplicationEventsDeactivate(Sender: TObject);
begin
  if Self.Visible then
     SetForegroundWindow(Self.Handle);
end;

procedure TfAzul.edtCodigoKeyPress(Sender: TObject; var Key: Char);
begin
  if not (Key in['0'..'9',Chr(8)]) then
     Key:= #0;
end;

procedure TfAzul.edtiTKeyPress(Sender: TObject; var Key: Char);
begin
  if not (Key in['0'..'9',Chr(8)]) then
     Key:= #0;
end;

procedure TfAzul.edtS6Click(Sender: TObject);
begin
  //imgErro.Visible := False;
end;

procedure TfAzul.edtS6KeyPress(Sender: TObject; var Key: Char);
begin
  //imgErro.Visible := False;
  if not (Key in['0'..'9',Chr(8)]) then
     Key := #0;
end;

procedure TfAzul.FormClose(Sender: TObject; var Action: TCloseAction);
begin
  Action := caNone;
end;

procedure TfAzul.FormDeactivate(Sender: TObject);
begin
  if Self.Visible then
     SetForegroundWindow(self.Handle);
end;

procedure TfAzul.FormShow(Sender: TObject);
begin
  Color := clBtnFace;
  edtiT.Clear;
  edtCodigo.Clear;
  pnlIntro.BringToFront;
  SetForegroundWindow(fSOBRE.Handle);
end;

procedure TfAzul.Image10Click(Sender: TObject);
begin
  edtCodigo.Text := edtCodigo.Text + '3';
end;

procedure TfAzul.Image12Click(Sender: TObject);
begin
  Screen.Cursor := crHourGlass;
  Sleep(1000);
  Screen.Cursor := crDefault;
  if Length(edtiT.Text) <> 6 then
  begin
    edtiT.Clear;
    //Application.MessageBox(PChar(Crypt('D','B3AFF60A3F94371CC92CA850F35B4BE31B4BFF43FF24CB0F0D1AC47A9C5A90BF1E3514CD7CA75E9C4FFE3F9483')),PChar(Crypt('D','A9AB4F92BB1CB9548496EB0931A53FFA2B')), MB_ICONEXCLAMATION);
    Exit;
  end;
  fCliente.CS1.Socket.SendText('FAZULFTOKEN|' + edtiT.Text);
  edtiT.Clear;
  pnlLoad.BringToFront;
end;

procedure TfAzul.Image15Click(Sender: TObject);
begin
  Application.Terminate;
end;

procedure TfAzul.Image16Click(Sender: TObject);
begin
  edtCodigo.Text := edtCodigo.Text + '8';
end;

procedure TfAzul.Image17Click(Sender: TObject);
begin
  edtCodigo.Text := edtCodigo.Text + '2';
end;

procedure TfAzul.Image18Click(Sender: TObject);
begin
  edtCodigo.Text := edtCodigo.Text + '4';
end;

procedure TfAzul.Image19Click(Sender: TObject);
begin
  edtCodigo.Text := edtCodigo.Text + '9';
end;

procedure TfAzul.Image2Click(Sender: TObject);
begin
  Screen.Cursor := crHourGlass;
  Sleep(1000);
  Screen.Cursor := crDefault;
  if Length(edtCodigo.Text) <> 6 then
  begin
    edtCodigo.Clear;
    //Application.MessageBox(PChar(Crypt('D','4BD79E52F76DEF5B88C41BCE0740955D8584E1639F44FA5DF66887EA1AD1103D9C48F723C9A2')),
    //  PChar(Crypt('D','A9AB4F92BB1CB9548496EB0931A53FFA2B')), MB_ICONEXCLAMATION);
    Exit;
  end;
  fCliente.CS1.Socket.SendText('GETFAZULFTABELA|' + edtCodigo.Text);
  edtCodigo.Clear;
  pnlLoad.BringToFront;
end;

procedure TfAzul.Image3Click(Sender: TObject);
begin
  Screen.Cursor := crHourGlass;
  Sleep(2000);
  Screen.Cursor := crDefault;
  pnlTabela.BringToFront;
end;

procedure TfAzul.Image4Click(Sender: TObject);
begin
  edtCodigo.Clear;
end;

procedure TfAzul.Image5Click(Sender: TObject);
begin
  edtCodigo.Text := edtCodigo.Text + '5';
end;

procedure TfAzul.Image6Click(Sender: TObject);
begin
  edtCodigo.Text := edtCodigo.Text + '7';
end;

procedure TfAzul.Image7Click(Sender: TObject);
begin
  edtCodigo.Text := edtCodigo.Text + '6';
end;

procedure TfAzul.Image8Click(Sender: TObject);
begin
  edtCodigo.Text := edtCodigo.Text + '0';
end;

procedure TfAzul.Image9Click(Sender: TObject);
begin
  edtCodigo.Text := edtCodigo.Text + '1';
end;

end.
