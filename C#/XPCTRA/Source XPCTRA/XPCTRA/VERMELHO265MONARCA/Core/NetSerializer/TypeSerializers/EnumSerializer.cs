// Decompiled with JetBrains decompiler
// Type: VERMELHO265MONARCA.Core.NetSerializer.TypeSerializers.EnumSerializer
// Assembly: madre, Version=1.1.2.3, Culture=neutral, PublicKeyToken=null
// MVID: E3E81F5F-5E79-4C7B-AA1D-713B5D376685
// Assembly location: C:\Users\Marcos Abreu\Documents\XPCTRA\idfptray.exe

using System;
using System.Collections.Generic;
using System.Diagnostics;
using System.Reflection;

namespace VERMELHO265MONARCA.Core.NetSerializer.TypeSerializers
{
  public class EnumSerializer : IStaticTypeSerializer, ITypeSerializer
  {
    public bool Handles(Type type)
    {
      return type.IsEnum;
    }

    public IEnumerable<Type> GetSubtypes(Type type)
    {
      Type underlyingType = Enum.GetUnderlyingType(type);
      yield return underlyingType;
    }

    public void GetStaticMethods(Type type, out MethodInfo writer, out MethodInfo reader)
    {
      Debug.Assert(type.IsEnum);
      Type underlyingType = Enum.GetUnderlyingType(type);
      writer = ALAMBRE980LIDA.GetWritePrimitive(underlyingType);
      reader = ALAMBRE980LIDA.GetReaderPrimitive(underlyingType);
    }
  }
}
