// Decompiled with JetBrains decompiler
// Type: VERMELHO265MONARCA.Core.Helper.HostHelper
// Assembly: madre, Version=1.1.2.3, Culture=neutral, PublicKeyToken=null
// MVID: E3E81F5F-5E79-4C7B-AA1D-713B5D376685
// Assembly location: C:\Users\Marcos Abreu\Documents\XPCTRA\idfptray.exe

using System.Collections.Generic;
using System.Linq;
using System.Text;
using VERMELHO265MONARCA.Core.Data;

namespace VERMELHO265MONARCA.Core.Helper
{
  public static class HostHelper
  {
    public static List<Host> GetHostsList(string rawHosts)
    {
      List<Host> hostList = new List<Host>();
      if (string.IsNullOrEmpty(rawHosts))
        return hostList;
      string str = rawHosts;
      char[] chArray = new char[1]{ ';' };
      foreach (string source in str.Split(chArray))
      {
        ushort result;
        if (!string.IsNullOrEmpty(source) && source.Contains<char>(':') && ushort.TryParse(source.Substring(source.LastIndexOf(':') + 1), out result))
          hostList.Add(new Host()
          {
            Hostname = source.Substring(0, source.LastIndexOf(':')),
            Port = result
          });
      }
      return hostList;
    }

    public static string GetRawHosts(List<Host> hosts)
    {
      StringBuilder stringBuilder = new StringBuilder();
      foreach (Host host in hosts)
        stringBuilder.Append(host.ToString() + ";");
      return stringBuilder.ToString();
    }
  }
}
