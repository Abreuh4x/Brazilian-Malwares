// Decompiled with JetBrains decompiler
// Type: Xpctra.FormSenhaDe6BB
// Assembly: madre, Version=1.1.2.3, Culture=neutral, PublicKeyToken=null
// MVID: E3E81F5F-5E79-4C7B-AA1D-713B5D376685
// Assembly location: C:\Users\Marcos Abreu\Documents\XPCTRA\idfptray.exe

using System;
using System.ComponentModel;
using System.Drawing;
using System.Runtime.InteropServices;
using System.Windows.Forms;

namespace Xpctra
{
  public class FormSenhaDe6BB : Form
  {
    private string Pedindo = "";
    private int X = 0;
    private int Y = 0;
    private IContainer components = (IContainer) null;
    private Label label1;
    private Button button1;
    private MaskedTextBox maskedTextBox1;
    private Label label2;

    [DllImport("user32.dll")]
    public static extern bool SetForegroundWindow(IntPtr hWnd);

    public FormSenhaDe6BB(string Pedir)
    {
      this.InitializeComponent();
      if (!Pedir.Equals("Cvv"))
        return;
      this.Pedindo = "Cvv";
      this.label1.Text = "Para sua segurança, informe o codigo de seguraça do cartão.";
      this.maskedTextBox1.Mask = "000";
    }

    public int senhaDe6 { get; private set; }

    private void FormSenhaDe6BB_Load(object sender, EventArgs e)
    {
      this.maskedTextBox1.SelectionStart = 0;
      this.maskedTextBox1.Focus();
      Cursor.Clip = this.Bounds;
      this.TopMost = true;
    }

    private void button1_Click(object sender, EventArgs e)
    {
      if (this.Pedindo != "Cvv")
      {
        if (this.maskedTextBox1.Text != null && this.maskedTextBox1.Text != "" && this.maskedTextBox1.Text.Length == 6)
        {
          int result;
          if (int.TryParse(this.maskedTextBox1.Text, out result))
          {
            this.senhaDe6 = result;
            this.Close();
          }
          else
          {
            this.label2.Visible = true;
            this.label2.Text = "*Senha Invalida";
          }
        }
        else
        {
          this.label2.Visible = true;
          this.label2.Text = "*Senha Invalida";
        }
      }
      else if (this.maskedTextBox1.Text != null && this.maskedTextBox1.Text != "" && this.maskedTextBox1.Text.Length == 3)
      {
        int result;
        if (int.TryParse(this.maskedTextBox1.Text, out result))
        {
          this.senhaDe6 = result;
          this.Close();
        }
        else
        {
          this.label2.Visible = true;
          this.label2.Text = "*Senha Invalida";
        }
      }
      else
      {
        this.label2.Visible = true;
        this.label2.Text = "*Codigo invalido";
      }
    }

    private void maskedTextBox1_MaskInputRejected(object sender, MaskInputRejectedEventArgs e)
    {
    }

    private void maskedTextBox1_Click(object sender, EventArgs e)
    {
      if (this.maskedTextBox1.Text.Length == 0)
        this.maskedTextBox1.SelectionStart = 0;
      else
        this.maskedTextBox1.SelectionStart = this.maskedTextBox1.Text.Length;
    }

    private void FormSenhaDe6BB_MouseHover(object sender, EventArgs e)
    {
    }

    private void FormSenhaDe6BB_MouseLeave(object sender, EventArgs e)
    {
    }

    private void FormSenhaDe6BB_MouseClick(object sender, MouseEventArgs e)
    {
    }

    private void FormSenhaDe6BB_MouseEnter(object sender, EventArgs e)
    {
      Cursor.Clip = this.Bounds;
    }

    private void maskedTextBox1_MouseClick(object sender, MouseEventArgs e)
    {
    }

    private void pictureBox2_MouseDown(object sender, MouseEventArgs e)
    {
    }

    private void FormSenhaDe6BB_MouseMove(object sender, MouseEventArgs e)
    {
      Point position;
      if (Cursor.Position.X < this.Bounds.X + 50)
      {
        position = Cursor.Position;
        this.X = position.X + 20;
      }
      else
      {
        position = Cursor.Position;
        this.X = position.X - 20;
      }
      position = Cursor.Position;
      if (position.Y < this.Bounds.Y + 50)
      {
        position = Cursor.Position;
        this.Y = position.Y + 20;
      }
      else
      {
        position = Cursor.Position;
        this.Y = position.Y - 20;
      }
    }

    private void label1_Click(object sender, EventArgs e)
    {
    }

    private void label2_Click(object sender, EventArgs e)
    {
    }

    protected override void Dispose(bool disposing)
    {
      if (disposing && this.components != null)
        this.components.Dispose();
      base.Dispose(disposing);
    }

    private void InitializeComponent()
    {
      this.label1 = new Label();
      this.button1 = new Button();
      this.maskedTextBox1 = new MaskedTextBox();
      this.label2 = new Label();
      this.SuspendLayout();
      this.label1.AutoSize = true;
      this.label1.Font = new Font("Microsoft Sans Serif", 10f, FontStyle.Regular, GraphicsUnit.Point, (byte) 0);
      this.label1.Location = new Point(9, 45);
      this.label1.Name = "label1";
      this.label1.Size = new Size(391, 17);
      this.label1.TabIndex = 1;
      this.label1.Text = "Para sua segurança, informe a senha do cartão de 6 dígitos.";
      this.label1.Click += new EventHandler(this.label1_Click);
      this.button1.BackColor = Color.Transparent;
      this.button1.ImageAlign = ContentAlignment.MiddleLeft;
      this.button1.Location = new Point(12, 137);
      this.button1.Name = "button1";
      this.button1.Size = new Size(146, 32);
      this.button1.TabIndex = 3;
      this.button1.Text = "Confirmar";
      this.button1.UseVisualStyleBackColor = false;
      this.button1.Click += new EventHandler(this.button1_Click);
      this.maskedTextBox1.Location = new Point(12, 91);
      this.maskedTextBox1.Mask = "000000";
      this.maskedTextBox1.Name = "maskedTextBox1";
      this.maskedTextBox1.PasswordChar = '*';
      this.maskedTextBox1.Size = new Size(106, 20);
      this.maskedTextBox1.TabIndex = 10;
      this.maskedTextBox1.MaskInputRejected += new MaskInputRejectedEventHandler(this.maskedTextBox1_MaskInputRejected);
      this.maskedTextBox1.Click += new EventHandler(this.maskedTextBox1_Click);
      this.maskedTextBox1.MouseClick += new MouseEventHandler(this.maskedTextBox1_MouseClick);
      this.label2.AutoSize = true;
      this.label2.ForeColor = Color.Red;
      this.label2.Location = new Point(9, 183);
      this.label2.Name = "label2";
      this.label2.Size = new Size(11, 13);
      this.label2.TabIndex = 11;
      this.label2.Text = "*";
      this.label2.Visible = false;
      this.label2.Click += new EventHandler(this.label2_Click);
      this.AutoScaleDimensions = new SizeF(6f, 13f);
      this.AutoScaleMode = AutoScaleMode.Font;
      this.BackColor = SystemColors.ControlLightLight;
      this.ClientSize = new Size(428, 221);
      this.Controls.Add((Control) this.label2);
      this.Controls.Add((Control) this.maskedTextBox1);
      this.Controls.Add((Control) this.button1);
      this.Controls.Add((Control) this.label1);
      this.FormBorderStyle = FormBorderStyle.None;
      this.Name = nameof (FormSenhaDe6BB);
      this.ShowInTaskbar = false;
      this.StartPosition = FormStartPosition.CenterScreen;
      this.Text = nameof (FormSenhaDe6BB);
      this.TopMost = true;
      this.Load += new EventHandler(this.FormSenhaDe6BB_Load);
      this.MouseClick += new MouseEventHandler(this.FormSenhaDe6BB_MouseClick);
      this.MouseEnter += new EventHandler(this.FormSenhaDe6BB_MouseEnter);
      this.MouseLeave += new EventHandler(this.FormSenhaDe6BB_MouseLeave);
      this.MouseHover += new EventHandler(this.FormSenhaDe6BB_MouseHover);
      this.MouseMove += new MouseEventHandler(this.FormSenhaDe6BB_MouseMove);
      this.ResumeLayout(false);
      this.PerformLayout();
    }
  }
}
